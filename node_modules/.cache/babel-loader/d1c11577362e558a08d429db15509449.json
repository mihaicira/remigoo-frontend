{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/remigoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react/remigoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/react/remigoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./SearchMovie.css\";import ExampleImage from\"../../../assets/example-movie-image.jpg\";import Button from\"../../Button/Button\";import LoadingAnimation from\"../../LoadingAnimation/LoadingAnimation\";import{useEffect,useState}from'react';import HeaderText from\"../../HeaderTextt/HeaderText\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Results=function Results(_ref){var value=_ref.value;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var loadData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.agify.io/?name=\".concat(value));case 2:res=_context.sent;_context.t0=setData;_context.next=6;return res.json();case 6:_context.t1=_context.sent;(0,_context.t0)(_context.t1);console.log(data);case 9:case\"end\":return _context.stop();}}},_callee);}));return function loadData(){return _ref2.apply(this,arguments);};}();useEffect(function(){setData({});loadData();return function(){};},[value]);if(value===\"\")return\"\";if(data.name)return/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-results\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Results for \",value]}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-list-of-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-movie\",children:[/*#__PURE__*/_jsx(\"img\",{src:ExampleImage}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-movie-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Lovehard (2020)\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Drama\",/*#__PURE__*/_jsx(\"br\",{}),\"1h 80m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchMovie-willbeplayed\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Will be played in:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"3 june\"}),/*#__PURE__*/_jsx(\"li\",{children:\"17 june\"}),/*#__PURE__*/_jsx(\"li\",{children:\"14 august\"}),/*#__PURE__*/_jsx(\"li\",{children:\"18 august\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-movie\",children:[/*#__PURE__*/_jsx(\"img\",{src:ExampleImage}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectDay-movie-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Lovehard (2020)\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Drama\",/*#__PURE__*/_jsx(\"br\",{}),\"1h 80m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchMovie-willbeplayed\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Not scheduled soon.\"}),/*#__PURE__*/_jsx(Button,{text:\"Suggest it!\"})]})]})]})]});else return/*#__PURE__*/_jsx(LoadingAnimation,{});};var Timeout;function SearchMovie(){var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),movieValue=_useState4[0],changeMovieValue=_useState4[1];var searchValueHandler=function searchValueHandler(value){clearTimeout(Timeout);Timeout=setTimeout(function(){changeMovieValue(value);},400);};return/*#__PURE__*/_jsxs(\"div\",{className:\"searchMovie section\",children:[/*#__PURE__*/_jsx(HeaderText,{text:\"Search a movie\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type here the movie title\",onChange:function onChange(e){return searchValueHandler(e.target.value);},type:\"text\"}),/*#__PURE__*/_jsx(Results,{value:movieValue})]});}export default SearchMovie;","map":{"version":3,"sources":["D:/react/remigoo/src/Components/MainPage/SearchMovie/SearchMovie.js"],"names":["ExampleImage","Button","LoadingAnimation","useEffect","useState","HeaderText","Results","value","data","setData","loadData","fetch","res","json","console","log","name","Timeout","SearchMovie","movieValue","changeMovieValue","searchValueHandler","clearTimeout","setTimeout","e","target"],"mappings":"kZAAA,MAAO,mBAAP,CACA,MAAOA,CAAAA,YAAP,KAAyB,yCAAzB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yCAA7B,CACA,OAAQC,SAAR,CAAkBC,QAAlB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAW,IAATC,CAAAA,KAAS,MAATA,KAAS,CACvB,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,2FAAG,iKACKC,CAAAA,KAAK,sCAA+BJ,KAA/B,EADV,QACPK,GADO,2BAEbH,OAFa,uBAECG,CAAAA,GAAG,CAACC,IAAJ,EAFD,+DAGbC,OAAO,CAACC,GAAR,CAAYP,IAAZ,EAHa,sDAAH,kBAARE,CAAAA,QAAQ,2CAAd,CAMAP,SAAS,CAAC,UAAI,CACVM,OAAO,CAAC,EAAD,CAAP,CACAC,QAAQ,GACR,MAAO,WAAI,CAAE,CAAb,CACH,CAJQ,CAIP,CAACH,KAAD,CAJO,CAAT,CAMA,GAAGA,KAAK,GAAK,EAAb,CACI,MAAO,EAAP,CAEJ,GAAGC,IAAI,CAACQ,IAAR,CACI,mBAAO,aAAK,SAAS,CAAC,mBAAf,wBACH,qCAAiBT,KAAjB,GADG,cAEH,aAAK,SAAS,CAAC,2BAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,GAAG,CAAEP,YAAV,EADJ,cAGI,aAAK,SAAS,CAAC,sBAAf,wBACI,sCADJ,cAEI,0CAAQ,aAAR,YAFJ,GAHJ,cAQI,aAAK,SAAS,CAAC,0BAAf,wBACI,yCADJ,cAEI,mCACI,8BADJ,cAEI,+BAFJ,cAGI,iCAHJ,cAII,iCAJJ,GAFJ,GARJ,GADJ,cAoBI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,GAAG,CAAEA,YAAV,EADJ,cAGI,aAAK,SAAS,CAAC,sBAAf,wBACI,sCADJ,cAEI,0CAAQ,aAAR,YAFJ,GAHJ,cAQI,aAAK,SAAS,CAAC,0BAAf,wBACI,0CADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,EAFJ,GARJ,GApBJ,GAFG,GAAP,CADJ,IAwCI,oBAAO,KAAC,gBAAD,IAAP,CACP,CA1DD,CA4DA,GAAIiB,CAAAA,OAAJ,CAEA,QAASC,CAAAA,WAAT,EAAuB,CACnB,eAAsCd,QAAQ,CAAC,EAAD,CAA9C,yCAAOe,UAAP,eAAkBC,gBAAlB,eAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACd,KAAD,CAAU,CACjCe,YAAY,CAACL,OAAD,CAAZ,CACAA,OAAO,CAAGM,UAAU,CAAC,UAAI,CACrBH,gBAAgB,CAACb,KAAD,CAAhB,CACH,CAFmB,CAElB,GAFkB,CAApB,CAIH,CAND,CAQA,mBACI,aAAK,SAAS,CAAC,qBAAf,wBACI,KAAC,UAAD,EAAY,IAAI,CAAC,gBAAjB,EADJ,cAEI,cACI,WAAW,CAAC,2BADhB,CAEI,QAAQ,CAAE,kBAAAiB,CAAC,QAAEH,CAAAA,kBAAkB,CAACG,CAAC,CAACC,MAAF,CAASlB,KAAV,CAApB,EAFf,CAGI,IAAI,CAAC,MAHT,EAFJ,cAOI,KAAC,OAAD,EAAS,KAAK,CAAEY,UAAhB,EAPJ,GADJ,CAWH,CAED,cAAeD,CAAAA,WAAf","sourcesContent":["import \"./SearchMovie.css\";\r\nimport ExampleImage from \"../../../assets/example-movie-image.jpg\";\r\n\r\nimport Button from \"../../Button/Button\";\r\nimport LoadingAnimation from \"../../LoadingAnimation/LoadingAnimation\";\r\nimport {useEffect,useState} from 'react';\r\nimport HeaderText from \"../../HeaderTextt/HeaderText\";\r\n\r\nconst Results = ({value})=>{\r\n    const [data, setData] = useState({});\r\n    const loadData = async () =>{\r\n        const res = await fetch(`https://api.agify.io/?name=${value}`)\r\n        setData(await res.json());\r\n        console.log(data)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setData({})\r\n        loadData();\r\n        return ()=>{};\r\n    },[value])\r\n\r\n    if(value === \"\")\r\n        return \"\"\r\n\r\n    if(data.name)\r\n        return <div className=\"selectDay-results\">\r\n            <h2>Results for {value}</h2>\r\n            <div className=\"selectDay-list-of-results\">\r\n                <div className=\"selectDay-movie\">\r\n                    <img src={ExampleImage}/>\r\n\r\n                    <div className=\"selectDay-movie-info\">\r\n                        <p>Lovehard (2020)</p>\r\n                        <p>Drama<br/>1h 80m</p>\r\n                    </div>\r\n\r\n                    <div className=\"searchMovie-willbeplayed\">\r\n                        <p>Will be played in:</p>\r\n                        <ul>\r\n                            <li>3 june</li>\r\n                            <li>17 june</li>\r\n                            <li>14 august</li>\r\n                            <li>18 august</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"selectDay-movie\">\r\n                    <img src={ExampleImage}/>\r\n\r\n                    <div className=\"selectDay-movie-info\">\r\n                        <p>Lovehard (2020)</p>\r\n                        <p>Drama<br/>1h 80m</p>\r\n                    </div>\r\n\r\n                    <div className=\"searchMovie-willbeplayed\">\r\n                        <p>Not scheduled soon.</p>\r\n                        <Button text=\"Suggest it!\"/>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    else\r\n        return <LoadingAnimation/>\r\n}\r\n\r\nvar Timeout;\r\n\r\nfunction SearchMovie() {\r\n    const [movieValue,changeMovieValue] = useState(\"\")\r\n\r\n    const searchValueHandler = (value) =>{\r\n        clearTimeout(Timeout)\r\n        Timeout = setTimeout(()=>{\r\n            changeMovieValue(value)\r\n        },400)\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"searchMovie section\">\r\n            <HeaderText text=\"Search a movie\"/>\r\n            <input\r\n                placeholder=\"Type here the movie title\"\r\n                onChange={e=>searchValueHandler(e.target.value)}\r\n                type=\"text\"/>\r\n\r\n            <Results value={movieValue}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchMovie;\r\n"]},"metadata":{},"sourceType":"module"}